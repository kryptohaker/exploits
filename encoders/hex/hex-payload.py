import getopt, sys, os
 
# Remove 1st argument from the
# list of command line arguments
argumentList = sys.argv[1:]
 
# Options
options = "hp:"
 
# Long options
long_options = ["help", "payload"]
 
try:
    # Parsing argument
    arguments, values = getopt.getopt(argumentList, options, long_options)
     
    # checking each argument
    for currentArgument, currentValue in arguments:
        if currentArgument in ("-h", "--help"):
            print ("usage: ./test.py -p payload.txt [options]")
             
        elif currentArgument in ("-p", "--payload"):
            payload = sys.argv[2]
            if os.path.isfile(payload):
                print ("Encoded Payload:\n")
                f = open(payload, "r")
                fp = f.read()
                print("\\"+"\\".join([hex(ord(x)) for x in fp]))
                f.close()
            else:
                print("Payload file does not exists!\n")
                print ("usage: ./test.py -p payload.txt [options]")
        
except getopt.error as err:
    # output error, and return with an error code
    print (str(err))
